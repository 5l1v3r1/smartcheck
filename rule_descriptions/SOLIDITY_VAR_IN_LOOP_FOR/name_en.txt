Unsafe type inference in <code>for</code>